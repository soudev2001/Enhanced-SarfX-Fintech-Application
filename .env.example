# ============================================
# SarfX Fintech Application - Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# ===========================================
# ENVIRONMENT MODE
# ===========================================
# Options: development, production
FLASK_ENV=development

# ===========================================
# DATABASE - MongoDB
# ===========================================
# Option 1: Docker Local MongoDB (recommended for dev)
MONGO_LOCAL=true
MONGO_HOST=mongo
MONGO_PORT=27017
MONGO_DB=SarfX_Enhanced

# Option 2: MongoDB Atlas (for production without Docker MongoDB)
# MONGO_LOCAL=false
# MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/SarfX_Enhanced

# MongoDB Authentication (production Docker only)
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=changeme_strong_password_here

# ===========================================
# REDIS CACHE
# ===========================================
# Docker Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379/0

# Redis Authentication (production only)
# REDIS_PASSWORD=changeme_redis_password

# Cache Configuration
CACHE_TYPE=redis
# CACHE_TYPE=simple  # Use for local dev without Redis

# ===========================================
# SECURITY
# ===========================================
# Flask secret key (generate with: python -c "import secrets; print(secrets.token_hex(32))")
SECRET_KEY=super_secret_key_change_me_in_production_min_32_chars

# ===========================================
# EMAIL / SMTP
# ===========================================
SMTP_EMAIL=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587

# ===========================================
# ADMIN SEED
# ===========================================
# Default admin credentials (used for seed scripts)
ADMIN_EMAIL=admin@sarfx.io
ADMIN_PASSWORD=admin123

# ===========================================
# GOOGLE OAUTH 2.0 (Recommended)
# ===========================================
# Get from: https://console.cloud.google.com/apis/credentials
# See docs/GOOGLE_OAUTH_SETUP.md for detailed instructions
GOOGLE_CLIENT_ID=123456789-xxxxxxxxxxxxxxxxxxxxxxxxxx.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-xxxxxxxxxxxxxxxxxxxxxxxx
OAUTH_REDIRECT_URI=https://sarfx.io/auth/login/google/callback

# ===========================================
# AI / CHATBOT
# ===========================================
# Google Gemini API Key (REQUIRED for chatbot functionality)
# Get your key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key

# ===========================================
# BACKEND IA (FastAPI)
# ===========================================
# Docker: use container name
AI_BACKEND_URL=http://ai-backend:8087
AI_PORT=8087
AI_BACKEND_TIMEOUT=30

# ===========================================
# DOCKER SPECIFIC
# ===========================================
# Application ports
FLASK_PORT=5050
AI_PORT=8087

# Admin tools ports (dev only)
MONGO_EXPRESS_PORT=8081
REDIS_COMMANDER_PORT=8082

# Nginx ports (prod only)
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# ===========================================
# GUNICORN (Production)
# ===========================================
GUNICORN_WORKERS=4
GUNICORN_THREADS=2
GUNICORN_TIMEOUT=120

# ===========================================
# LOGGING
# ===========================================
LOG_LEVEL=INFO
# LOG_LEVEL=DEBUG  # For development

# ===========================================
# OPTIONAL - Error Monitoring
# ===========================================
# SENTRY_DSN=https://xxxxx@sentry.io/xxxxx

# ===========================================
# QUICK SETUP GUIDE
# ===========================================
# 1. Copy this file: cp .env.example .env
# 2. Edit .env with your values
# 3. For development: make dev
# 4. For production: make prod
#
# Accès après démarrage:
# - Flask App: http://localhost:5050
# - AI Backend: http://localhost:8087
# - Mongo Express (dev): http://localhost:8081
# - Redis Commander (dev): http://localhost:8082