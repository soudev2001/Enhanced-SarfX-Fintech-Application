{% extends "base.html" %}

{% block content %}
<div style="display: flex; justify-content: space-between; align-items: center; margin-right: 20px;">
    <h1>Suppliers</h1>
    <button onclick="document.getElementById('addModal').style.display='block'" style="background: none; border: none; color: var(--ios-blue); font-size: 30px;">+</button>
</div>

<div class="list-group">
    {% for supplier in suppliers %}
    <div class="list-item">
        <div>
            <div style="font-weight: 600;">{{ supplier.name }}</div>
            <div style="font-size: 12px; color: #8E8E93;">{{ supplier.api_url }}</div>
        </div>
        <a href="{{ url_for('suppliers.delete_supplier', id=supplier._id) }}" style="color: var(--ios-red);">
            <i data-lucide="trash-2" width="18"></i>
        </a>
    </div>
    {% endfor %}
</div>

<!-- Simple Add Modal -->
<div id="addModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000;">
    <div class="card" style="margin-top: 100px;">
        <h2>Add Supplier</h2>
        <form action="{{ url_for('suppliers.add_supplier') }}" method="POST">
            <input type="text" name="name" class="ios-input" placeholder="Supplier Name" required>
            <input type="text" name="api_url" class="ios-input" placeholder="API Endpoint URL" required>
            <button type="submit" class="btn btn-primary">Save Supplier</button>
            <button type="button" class="btn btn-ghost" onclick="document.getElementById('addModal').style.display='none'">Cancel</button>
        </form>
    </div>
</div>
{% endblock %}